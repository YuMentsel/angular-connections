<main class="main">
  <div class="main__container container">
    <div class="dialog">
      <div class="dialog__settings">
        <button
          mat-raised-button
          color="primary"
          (click)="loadMessages(loadingTime, true)"
          [disabled]="disabled || loading"
        >
          Update
        </button>
        <span *ngIf="remainingTime$ | async as remainingTime">{{ remainingTime }}</span>
        <button mat-raised-button color="accent" (click)="deleteDialog()" [disabled]="loading">
          Delete
        </button>

        <div class="dialog__loading" *ngIf="loading"><mat-spinner diameter="24"></mat-spinner></div>
      </div>

      <div class="messages">
        <ul class="messages__wrapper" #messagesWrapper>
          <li
            [ngClass]="{ message: true, 'own-message': message.authorID.S === uid }"
            *ngFor="let message of messages$ | async as messages"
          >
            <app-message [message]="message"></app-message>
          </li>
        </ul>
      </div>
      <app-dialog-form [info]="{ dialogId, loadingTime }"></app-dialog-form>
    </div>
  </div>
</main>
